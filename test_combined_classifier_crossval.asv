a = prnist([0:9],[1:4:1000]);
%%
preproc = im_box([],2,2)*im_resize([],[20 20])
a = a*preproc;
%%
[im_feat, im_prof, im_raw, im_conv, im_conv2] = get_feature_representation(a);
%%
%Feature selection
%im_feat_red = select_features(im_feat,15)
%im_prof_red = select_features(im_feat,12)
%im_prof_red = im_prof

%%
%%
c1 = pcam([],12)*loglc
c2 = knnc([],5)
c3 = parzen(0.5);
c4 = qdc;
c5 = qdc;
combined_untrained_classifier = [c1*classc; c2*classc; c3*classc; c4*classc; c5*classc]*prodc
[Err, Std] = prcrossval([im_feat, im_prof, im_raw], combined_untrained_classifier, 10,2);

